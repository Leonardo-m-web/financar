<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finacnar</title>
    <link rel="stylesheet" href="car.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
</head>
<body id="body">

  <div id="menuRes" class="d-none">
    <div class="menu">
      <div class="btnClose">
        <button onclick="fechaMenu()" id="btnClose">
          ✕
        </button>
      </div>
      <div class="d-block">
        <a class="btn btn-light my-2" href="../detalhes/home_ex.html">Home</a>
        <a class="btn btn-light my-2" href="#">Aluguéis</a>
        <a class="btn btn-light my-2" href="#">Ofertas</a>
      </div>
    </div>
  </div>

  <!--PAINEL DE AVISO AO TENTAR DELETAR OS DADOS DO VEICULO-->
  <div id="divDel">
    <div class="divdel">
      <div class="divdelt">
        <p class="simbol">⚠</p>
        <p>Tem certeza que deseja excluir o veículo cadastrado?</p>
      </div>
      <div class="divdelb">
        <button id="btnDel">Sim, tenho certeza</button>
        <button id="btnDelVoltar">Não, não tenho certeza</button>
      </div>
    </div>
  </div>

  <!--CABEÇALHO DESKTOP-->
  <nav id="navnresp" class="navbar navbar-expand-lg bg-white">
        <div class="container">
            <a clas="navbar-brand" href="#">
                <img src="../img/logo_finanCar_sem fundo.png" class="im_logo" alt="Logo FinanCar" >
            </a>
            <div class="d-flex">
                <a class="btn btn-light mx-2" href="home_ex.html">Home</a>
                <a class="btn btn-light mx-2" href="#">Aluguéis</a>
                <a class="btn btn-light mx-2" href="#">Ofertas</a>
            </div>
        </div>
  </nav>

  <!--CABEÇALHO MOBILE-->
  <nav id="navresp" class="navbar bg-body-tertiary fixed-top">
    <div class="container-fluid">

      <div class="nb">
        <a class="navbar-brand" href="#">
          <img src="../img/logo_finanCar_sem fundo.png" class="im_logo" alt="Logo FinanCar">
        </a>
        <button onclick="abreMenu()" class="navbar-toggler" type="button" >
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    
    </div>
  </nav>

  <!--PAINEL DE BOTOES DE UPDATE E DELETE-->
  <div class="crud">
    <button type="button" id="btnD" class="btnCRUD">
      Excluir
    </button>
    <a href="" id="btnU" class="btnCRUD">
      Editar
    </a>
  </div>

  <!--CARROSSEL DE IMAGENS DO VEÍCULO-->
  <div class="i"> 
    <div class="foto_carro">
      <div id="carouselExample" class="carousel slide">
        <div class="carousel-inner">
          <div id="carrosel">
            <div class="carousel-item active">
              <img src="../img/carro.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="../img/carro.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="../img/carro.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="../img/carro.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="../img/carro.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="../img/carro.png" class="d-block w-100" alt="...">
            </div> 
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
          <span id="carrButton" class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
          <span id="carrButton" class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </div> 

  <!--PARTE DE DETALHES - INICIO-->
  <div class="container">

      <!--PARTE LATERAL - INICIO-->
      <div class="lateral">
        
        <!--PAINEL DE PREÇO E BOTÃO DE FINANCIAMENTO-->
        <div class="financeiro" id="financeiro"></div>

        <!-- PAINEL DE COMENTRARIOS DESKTOP-->
        <div id="verificaAl">
          <div class="aluguel_coment">
            <div class="comentTitulo">
              Comentários
            </div>
            <div id="coment_read" class="coment_read">

            </div>
            <div id="coment_post" class="coment_post">
              <textarea class="imputComent" rows="2" id="imputComent" type="text" placeholder="Comentar" value="comentar"></textarea>
              <button class="btnComentPost" id="btnComentPost">
                <img src="../img/enviar.png" alt="enviar">
              </button>
              <button class="btnComentPost" id="btnComentUpdate">
                <img src="../img/enviar.png" alt="enviar">
              </button>

            </div>
          </div>
        </div>
      <!--PARTE LATERAL - FIM-->
      </div>

      <!--PARTE PRINCIPAL - INICIO-->
      <div class="dados">

        <div class="tipo" id="tipo"> </div>

        <h2 class="s"><strong>Sobre</strong></h2>

        <div class="info_sobre" id="info_sobre"></div>

        <h2 class="s"><strong>Adicionais</strong></h2>
        <div class="adicionais" id="adicionais">
          <ul id="ulOp"></ul>
        </div>

      <!--PARTE PRINCIPAL - FIM-->
      </div>

  <!--PARTE DE DETALHES - FIM-->
  </div>

    <!-- PAINEL DE COMENTARIOS MOBILE-->
    <div id="verificaAlRes">
          <div class="aluguel_coment">
            <div class="comentTitulo">
              Comentários
            </div>
            <div id="coment_postRes" class="coment_post">
              <textarea class="imputComent" rows="2" id="imputComentRes" type="text" placeholder="Comentar" value="comentar"></textarea>
              <button class="btnComentPost" id="btnComentPostRes">
                <img src="../img/enviar.png" alt="enviar">
              </button>
              <button class="btnComentPost" id="btnComentUpdateRes">
                <img src="../img/enviar.png" alt="enviar">
              </button>
            </div>
            <div id="coment_readRes" class="coment_read">

            </div>
            
          </div>
      </div>



    <footer class="rodape"></footer>
    
    <script src="car.js"></script>
    <script src="comentario.js"></script>

    <script>

      //pega o valor do id presente na URL
      const parans = new URLSearchParams(window.location.search)
      var id = parans.get('id')
      //coloca a variavel no escopo global
      window.id
      
      //chama as funções imediatamente
      getComent()
      carregaDadosDetalhes()

      //quando clicar no btnD o display do painel de aviso passara de none pra flex
      document.getElementById('btnD').addEventListener("click", function(){
        document.getElementById('divDel').setAttribute("class", "d-flex")
      })
      //quando clicar no btnDel dentro do painel de aviso acionara a função
      document.getElementById('btnDel').addEventListener("click", function(){
        deletaDadosDetalhes(id) 
      })
      //quando clicar no btnD o display do painel de aviso passara de flex para none
      document.getElementById('btnDelVoltar').addEventListener("click", function(){
        document.getElementById('divDel').setAttribute("class", "d-none")
      })

      //chama a função quando ouvir o click (desktop)
      document.getElementById('btnComentPost').addEventListener("click", postComent)
      //chama a função quando ouvir o click (mobile)
      document.getElementById('btnComentPostRes').addEventListener("click", postComent)

      document.getElementById('btnComentUpdate').setAttribute("class", "d-none")
      document.getElementById('btnComentUpdateRes').setAttribute("class", "d-none")
      
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
</body>
</html>